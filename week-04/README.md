**1. 在 Readme 中提供 instance 的 public IP，我會連線過去檢查，所以要保持主機是一直在啟動中**

`57.181.34.246` 或是可以瀏覽 [http://57.181.34.246/](http://57.181.34.246/)

**2. 什麼是 instance type?**

Instance type 定義了虛擬伺服器的配置，包括 CPU、記憶體、儲存空間和網絡資源。
選擇適當的 instance type 可以根據專案的需求和預算來提升性能和降低成本。

Ref:[Amazon EC2 執行個體類型](https://aws.amazon.com/tw/ec2/instance-types/)

**3. 什麼是 Nginx？有哪些用途與特性？**

Nginx 是一個高效能的 Web 伺服器兼**反向代理**伺服器。包含負載平衡、HTTP快取、靜態文件服務等功能。還有Nginx以其高效能和低資源消耗著稱。

Ref:[Nginx維基百科](https://zh.wikipedia.org/zh-tw/Nginx)

**3.1什麼是反向代理（Reverse Proxy）**

反向代理時會接收來自客戶端的請求，並將這些請求轉發到後端伺服器，然後將伺服器的回應傳回給客戶端。這樣的設計可以有效隱藏內部伺服器的真實 IP，增加安全性。

Ref: [反向代理維基百科](https://zh.wikipedia.org/wiki/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86)

**3.2什麼是負載平衡（load balancing）**

負載平衡是一種將網路流量平均分配到支援應用程式的資源集區中的方法，可以提昇應用程式的可用性、可擴展性、安全性和效能。

Ref: [什麼是負載平衡？](https://aws.amazon.com/tw/what-is/load-balancing/)

1. pm2 套件是什麼？有什麼用處？

PM2 是一個 Node.js 的進程管理工具，用於保持應用持續運行和負載平衡。它具有應用程式監控、日誌管理和自動重啟等功能。

Ref:[【筆記】使用 pm2 進行 node 服務管理](https://blog.jsy.tw/2661/pm2-node-service-manager/)

其他替代方案： `forever` 或 `nodemon`

**4. 步驟 9 中提到的 `proxy` 是什麼意思？為什麼要透過 Nginx 來 `proxy` 到 Express 開發的 Web Server?**

proxy 表示 Nginx 作為一個中轉，在使用者端和伺服器之間轉發請求和響應。
使用 Nginx 作為反向代理到 Express 伺服器可以提高安全性、加密處理和負載平衡。

**4.1提示 `Reverse proxy` vs `Forward Proxy`**

Reverse Proxy - 接收客戶端請求並將其轉發到內部網絡的伺服器，對外隱藏伺服器真實 IP。
Forward Proxy - 客戶端連線到代理伺服器，由代理伺服器訪問互聯網資源，用於訪問限制區域的內容。

Ref:[反向代理IP與正向代理IP的詳細區別 — okey proxy](https://medium.com/@grayk3553/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86ip%E8%88%87%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86ip%E7%9A%84%E8%A9%B3%E7%B4%B0%E5%8D%80%E5%88%A5-okey-proxy-4450a01bad78)

**5. 在 readme 中提供步驟 9 的 Nginx 設定檔**

```bash
server {
        listen 80 default_server;
        listen [::]:80 default_server;

        # SSL configuration
        #
        # listen 443 ssl default_server;
        # listen [::]:443 ssl default_server;
        #
        # Note: You should disable gzip for SSL traffic.
        # See: https://bugs.debian.org/773332
        #
        # Read up on ssl_ciphers to ensure a secure configuration.
        # See: https://bugs.debian.org/765782
        #
        # Self signed certs generated by the ssl-cert package
        # Don't use them in a production server!
        #
        # include snippets/snakeoil.conf;

        root /var/www/html;

        # Add index.php to the list if you are using PHP
        index index.html index.htm index.nginx-debian.html;

        server_name 57.181.34.246;
        location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        }
}
```

**5. Security Group 是什麼？用途為何？有什麼設定原則嗎？**

Security Group 是 AWS 中設定虛擬伺服器網絡訪問控制的一種方式，可以定義哪些endpoints可接受來自哪些 IP 地址的流量。

Ref:[【AWS 雲端資安 Inside out】安全群組與NACL建置教學簡介(一)](https://nextlink.cloud/aws-cloud-security-part4/)

**6. 什麼是 sudo? 為什麼有的時候需要加上 sudo，有時候不用？**

`sudo` (superuser do)是用於 Linux 和 Unix 系統的指令，允許用戶以管理員身份執行指令。
使用情境：包括安裝套件、修改系統配置文件或管理系統服務等需要管理員權限的操作。

不想要每次都打`sudo`可以：
```bash
sudo -i
```
Ref:[sudo 指令使用說明](https://note.drx.tw/2008/01/linuxsudo.html)

**7. Nginx 的 Log 檔案在哪裡？你怎麼找到的？怎麼看 Nginx 的 Log？**

Nginx 的日誌文件通常位於 `/var/log/nginx/` 目錄下，包括訪問日誌和錯誤日誌。

```bash
tail -f /var/log/nginx/error.log
```
執行輸出：
```text
2024/10/13 07:35:28 [error] 4287#4287: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 124.102.86.42, server: 57.181.34.246, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:3000/", host: "57.181.34.246"
2024/10/13 07:35:29 [error] 4287#4287: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 124.102.86.42, server: 57.181.34.246, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:3000/", host: "57.181.34.246"
2024/10/13 07:35:43 [error] 4287#4287: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 124.102.86.42, server: 57.181.34.246, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:3000/", host: "57.181.34.246"
2024/10/13 07:36:15 [error] 4287#4287: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 124.102.86.42, server: 57.181.34.246, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:3000/", host: "57.181.34.246"
2024/10/13 07:36:16 [error] 4287#4287: *1 connect() failed (111: Connection refused) while connecting to upstream, client: 124.102.86.42, server: 57.181.34.246, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:3000/", host: "57.181.34.246"
2024/10/13 07:45:53 [error] 4287#4287: *10 connect() failed (111: Connection refused) while connecting to upstream, client: 4.151.226.185, server: 57.181.34.246, request: "GET /hudson HTTP/1.1", upstream: "http://127.0.0.1:3000/hudson", host: "57.181.34.246"
```

Ref:[Monitoring Access Log and Error Log in Nginx](https://medium.com/@yunandarpalilati/monitoring-access-log-and-error-log-in-nginx-d5ea089dd7b0)

**8.  其他你在過程中遭遇的問題，有找到解答就記錄下來，沒有可以把問題放著，下次上課討論。如果沒有遇到任何問題，也可以回答「無」**

過程中遇到 `MODULE_NOT_FOUND` 錯誤，忘記`npm install`(如上log)。

**9.  列出完成本作業時參考的資料**
寫在每題中。